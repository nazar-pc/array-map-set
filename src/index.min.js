/*
 0BSD
*/
(function(){function f(a){var b;if((b=h.get(a))&&d.has(b))return b;b=a.join(",");return g.has(b)?(b=g.get(b),h.set(a,b),b):a}function m(a){var b;var e=a.join(",");(b=d.get(a))?(++b,d.set(a,b)):(h.set(a,a),g.set(e,a),d.set(a,1))}function n(a){var b=a.join(",");var e=d.get(a);--e;e?d.set(a,e):(g["delete"](b),d["delete"](a))}function p(a){var b,e;var c=b=new Map;c.get=function(a){a=f(a);return Map.prototype.get.call(this,a)};c.has=function(a){a=f(a);return Map.prototype.has.call(this,a)};c.set=function(a,
b){a=f(a);Map.prototype.has.call(this,a)||m(a);return Map.prototype.set.call(this,a,b)};c["delete"]=function(a){a=f(a);Map.prototype.has.call(this,a)&&n(a);return Map.prototype["delete"].call(this,a)};c.clear=function(){var a=this;this.forEach(function(b,k){a["delete"](k)})};if(a)for(c=0,e=a.length;c<e;++c){var d=a[c];var k=d[0];d=d[1];b.set(k,d)}return b}function q(a){var b,d;var c=b=new Set;c.has=function(a){a=f(a);return Set.prototype.has.call(this,a)};c.add=function(a){a=f(a);Set.prototype.has.call(this,
a)||m(a);return Set.prototype.add.call(this,a)};c["delete"]=function(a){a=f(a);Set.prototype.has.call(this,a)&&n(a);return Set.prototype["delete"].call(this,a)};c.clear=function(){var a=this;this.forEach(function(b,c){a["delete"](c)})};if(a)for(c=0,d=a.length;c<d;++c){var g=a[c];b.add(g)}return b}function l(){return{ArrayMap:p,ArraySet:q}}var h=new WeakMap;var g=new Map;var d=new Map;"function"===typeof define&&define.amd?define(l):"object"===typeof exports?module.exports=l():this.detox_utils=l()}).call(this);